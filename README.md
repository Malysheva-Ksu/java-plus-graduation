## ExploreWithMe (микросервисная версия)
#### Общее описание
Во второй части проекта из единого монолита main-service был постепенно выделен набор отдельных сервисов.

Теперь это связанная экосистема микросервисов, общающихся через API‑шлюз, систему конфигурации и сервис обнаружения.
В качестве основных технологий используются Spring Cloud, OpenFeign, PostgreSQL и Docker / docker‑compose.

Внешний контракт (REST‑API) сохранён:
Gateway полностью совместим со спецификацией, использовавшейся в групповом проекте.

#### Общая схема взаимодействия
Все входящие запросы попадают в систему через API Gateway и уже оттуда маршрутизируются к нужным сервисам.

> Клиент → API Gateway (порт 8080) → Микросервисы

В инфраструктуру входят:

- Eureka Discovery Server — динамическая регистрация и обнаружение сервисов;
- Config Server — единая точка конфигурации для всех приложений;
- PostgreSQL (порт 5432) — общая база данных (для учебного проекта выбрана единая БД, при желании можно разнести по схемам/БД).

Важно: внешнего доступа напрямую к микросервисам нет, все обращения идут через Gateway (порт 8080).

#### Состав микросервисов
Основные доменные сервисы:

- event-service

Управление событиями:
создание, редактирование, отмена событий;
поиск и фильтрация (по тексту, датам, категориям, платности, доступности мест);
учёт числа подтверждённых заявок и просмотров (интеграция со stats-сервисом и request-сервисом).
- request-service

Работа с заявками на участие:
создание заявки на участие от пользователя;
подтверждение / отклонение заявок организатором;
учёт лимита мест и логика onlyAvailable.
- user-service

Администрирование пользователей:
создание и управление пользователями;
используется другими сервисами при проверке инициатора события и владельцев заявок.
- stats-service

Сервис статистики и просмотров:
при каждом обращении к публичным эндпоинтам сохраняется хит;
предоставляет агрегированные данные о количестве просмотров для событий.

#### Инфраструктурные сервисы
- gateway-server

Единая точка входа для клиентов (браузер, Postman и т.д.).
Выполняет:
маршрутизацию запросов к нужному бэкенду по пути/префиксу;
скрывает внутреннюю топологию микросервисов.
- discovery-server (Eureka)

Централизованное хранилище информации о работающих сервисах:
микросервисы регистрируются при старте;
Gateway и другие клиенты узнают актуальные адреса по имени сервиса.
- config-server

Централизованная конфигурация:
каждый микросервис при запуске подтягивает настройки из репозитория конфигураций;
удобно управлять профилями (default, docker) и переиспользуемыми параметрами (URIs, порты, профили БД и пр.).

#### Межсервисное взаимодействие
Взаимодействие между микросервисами идёт через REST c использованием клиентов OpenFeign.
Интерфейсы клиентов вынесены в модуль:

core/interaction-api

Там определены основные клиенты:

- EventClient — обращение к event-service;
- ParticipationRequestClient — работа с request-service;
- UserClient — обращение к user-service.


Это позволяет:

изолировать API‑контракты в одном месте,
переиспользовать интерфейсы между сервисами без копирования, 
упростить рефакторинг (смена пути/хоста в одном месте).

#### Конфигурация и профили

Файлы конфигурации для сервисов находятся в отдельном репозитории, который читает config-server:

После успешного старта:

Gateway доступен по адресу: http://localhost:8080
все запросы к API следует направлять именно туда.
Тестирование (Postman)
Для проверки корректной работы и соответствия спецификации используется Postman.

Коллекции запросов и тестов находятся в каталоге: ./postman
Базовый URL в запросах: http://localhost:8080 (через Gateway)